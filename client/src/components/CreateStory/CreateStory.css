/* General styles for the Create Story page, in order of appearance in the jsx */
/* Responsive design is still in progress for Create Story */

.create-story-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--bg-color);
  /* We are making the pg content take up all the height within 100vh that the header and dropdown-container don't take up, thus pushing the footer below the fold. */
  min-height: calc(100vh - (var(--header-height) + var(--dropdown-height)));
  font-family: 'Comic Sans MS', cursive, sans-serif;
}

/* div.create-story-content is a container that holds both div.entry-pg-container and div.story-diagram-container, and both of those nested containers are always 100% of the width of div.create-story-content. The width of div.create-story-content changes depending on viewport width; it regulates the width of both of its nested containers.  */
.create-story-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  /* justify-content: space-around makes it so that, within div.create-story-content, there is an equal amount of space above the div.entry-pg-container as there is below the div.entry-pg-container */
  justify-content: space-around;
  box-sizing: border-box;
  width: 60vw;
  height: 100%;
  overflow-y: auto;
  /* The below padding-bottom moves the div.entry-pg-container and the div.story-diagram-container up by the height of the theme switcher (div.dropdown-container). Otherwise, the page content of both of these containers doesn't appear vertically centered. */
  /* Currently am messing with this padding */
  /* padding-bottom: var(--dropdown-height); */
}

/* ENTRY "PAGE" STYLES */

.entry-pg-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  gap: 40px;
  min-height: 65vh;
  justify-content: flex-start;
}

.fade-in-text.entry-text span {
  font-size: var(--large-txt);
}

.entry-img-wrapper {
  position: relative;
  width: 100%;
  /* height: 50vh; */
  flex: 1;
  height: auto;
}

.entry-img-wrapper::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 100%;
  background: linear-gradient(to top,
    rgba(0, 0, 0, 0.6) 0%,
    rgba(0, 0, 0, 0.5) 10%,
    rgba(0, 0, 0, 0.4) 20%,
    rgba(0, 0, 0, 0.3) 30%,
    rgba(0, 0, 0, 0.2) 40%,
    rgba(0, 0, 0, 0) 50%);
  border-radius: 10px;
  pointer-events: none;
  z-index: 1;
  opacity: 0;
  animation: fadeIntoPartialOpaque 4s forwards;
}

.entry-img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 10px;
  opacity: 0;
  animation: fadeIntoPartialOpaque 4s forwards;
  background-color: rgba(0, 0, 0, 0.1);
  z-index: 0;
}

@keyframes fadeIntoPartialOpaque {
  to {
    opacity: 0.8;
  }
}

@keyframes fadeIntoOpaque {
  to {
    opacity: 1;
  }
}

.create-story-button {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 2;
  padding: 15px;
  font-size: var(--med-large-txt);
  width: 300px;
  cursor: pointer;
  background-color: var(--header-link-hover);
  color: var(--dark-accent);
  color: #27392F;
  color: #263626;
  transition: background-color ease-in-out 0.3s;
  border-radius: 10px;
  border: none;
  opacity: 0;
  animation: fadeIntoOpaque 2s forwards;
  box-shadow:
    0px 4px 5px rgba(0, 0, 0, 0.2),
    /* Small, sharper shadow close to button */
    0px 8px 15px rgba(0, 0, 0, 0.1),
    /* Larger, more blurred shadow */
    0px 15px 30px rgba(0, 0, 0, 0.1),
    /* Even larger, very subtle shadow */
    0px 30px 40px rgba(0, 0, 0, 0.05);
  /* Very soft, barely visible shadow for blending */
}

.create-story-button:hover {
  background-color: white;
}

/* STORY DIAGRAM "PAGE" STYLES */

.story-diagram-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  gap: 30px;
  min-height: 60vh;
  justify-content: flex-start;
}

.story-diagram-heading {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  gap: 20px;
  text-align: center;
  color: var(--header-title);
  text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.2);
}

.story-diagram-heading h1 {
  font-size: var(--large-txt);
}

.story-diagram-heading h2 {
  font-size: var(--med-large-txt);
}

.chapter-container {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  flex-wrap: wrap;
  /* min-height: 50vh; */
  max-height: 70vh;
  overflow-y: auto;
  /* margin: 20px 0; */
  padding-right: 20px;
  gap: 10px;
}

.chapter-container .chapter-wrapper {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

/* Styling for the chapter number "labels" in the story diagram */
.chapter-container span {
  font-size: var(--med-small-txt);
}

/* Styling for the story title, chapter titles, and choices which appear in the story diagram */
.chapter-container button {
  display: block;
  margin: 10px 0;
  padding: 10px 20px;
  font-size: var(--small-txt);
  cursor: pointer;
  width: 80%;
  max-width: 400px;
  background-color: #Dff0f8;
  transition: background-color ease-in-out 0.3s;
  border: none;
  border-radius: 5px;
}

.chapter-container button:hover {
  background-color: #F1F6F8;
}

.indent-1 {
  margin-left: 40px;
}

.indent-2 {
  margin-left: 80px;
}

.indent-3 {
  margin-left: 120px;
}

.indent-4 {
  margin-left: 160px;
}

.indent-5 {
  margin-left: 200px;
}

.finalize-story-button {
  position: fixed;
  /* For large viewport widths, when the button is not full screen width, the finalize story button is positioned in the bottom right corner of the screen */
  bottom: 50px;
  /* right: 20vw is designed so that the button is aligned all the way to the right edge of div.create-story-content, which is 60vw when vw is 1441px and up. */
  right: 20vw;
  z-index: 5;
  padding: 15px 30px;
  font-size: var(--med-large-txt);
  cursor: pointer;
  background-color: var(--story-4);
  color: #F1F6F8;
  color: var(--cool-white);
  transition: background-color ease-in-out 0.3s;
  border: none;
  border-radius: 5px;
}

.finalize-story-button:hover {
  background-color: var(--alt-button-accent);
}

/* START OF CREATE STORY MODAL STYLES */

.create-story-modal {
  width: 40vw;
  padding: 20px;
  background-color: var(--warm-white);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  border-radius: 10px;
}

.overlay {
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: auto;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  height: 100vh;
  width: 100%;
  z-index: 1000;
}

.modal-header h2 {
  display: flex;
  font-size: var(--large-txt);
  color: var(--dark-accent);
}

.close-button {
  display: flex;
  width: 30px;
  height: 30px;
  background-color: var(--story-4);
  color: var(--warm-white);
  cursor: pointer;
  border: none;
  border-radius: 5px;
  transition: background-color ease-in-out 0.3s;
}

.close-button::before {
  content: 'Ã—';
  /* THIS IS A "FONT SIZE" I DID NOT MAKE RESPONSIVE YET */
  font-size: 30px;
  position: relative;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -54%);
  color: var(--warm-white);
}

.close-button:hover {
  background-color: #A94E6F;
  border: none;
  border-radius: 5px;
}

.create-story-form {
  margin-top: 20px;
}

.create-story-form label {
  font-size: var(--med-large-txt);
  color: var(--header-title);
}

.create-story-form input[type='text'],
.create-story-form textarea {
  border: 1px solid var(--mid-dark-accent);
  border-radius: 4px;
  font-size: var(--small-txt);
  background-color: var(--story-5);
  color: var(--text-color);
  padding: 7px;
}

input#storyTitle,
textarea#storyDescription,
input#storyGenre,
input#storyTags,
input#chapterTitle,
textarea#chapterContent {
  margin: 5px 0px 15px;
  padding: 10px;
  font-size: var(--small-txt);
}

.save-and-continue-button {
  background-color: var(--button-accent);
  color: var(--warm-white);
  border: none;
  border-radius: 10px;
  cursor: pointer;
  font-size: var(--med-small-txt);
  text-align: center;
  transition: background-color ease-in-out 0.3s;
  padding: 5px 20px;
  margin: 10px 0px 10px 0px;
}

.save-and-continue-button:hover,
.add-choice-button:hover,
.remove-choice-button:hover {
  background-color: var(--dk-button-accent);
}

.add-choice-button,
.remove-choice-button {
  background-color: var(--button-accent);
  color: var(--warm-white);
  border: none;
  border-radius: 10px;
  cursor: pointer;
  font-size: var(--med-small-txt);
  text-align: center;
  transition: background-color ease-in-out 0.3s;
  padding: 5px 10px;
  margin-bottom: 20px;
  margin-top: -5px;
  min-width: 113px;
}

.add-choice-button {
  margin-top: 10px;
}

button.save-chapter-button {
  background-color: var(--story-4);
  border: none;
  border-radius: 10px;
  cursor: pointer;
  font-size: var(--med-small-txt);
  text-align: center;
  transition: background-color ease-in-out 0.3s;
  padding: 5px 10px;
  min-width: 113px;
  color: var(--warm-white);
  display: block;
}

button.save-chapter-button:hover {
  background-color: var(--alt-button-accent);
  display: block;
}

.end-story-label {
  display: flex;
  flex-direction: row;
  align-items: center;
  margin-bottom: 20px;
}

.end-story-label input[type="checkbox"] {
  width: 15px;
  height: 15px;
  margin-left: 10px;
}

/* Media Queries */

@media (max-width: 1440px) {
  .create-story-content {
    width: 85vw;
  }

  .create-story-modal {
    width: 50vw;
  }

  .finalize-story-button {
    /* bottom: 40px is designed to match the 50px margin-bottom on the div.dropdown-container that we plan to have applied when vw is 1440px and less. */
    bottom: 40px;
    /* When vw is 1440px or less, the div.create-story-content is 85vw. Positioning the .finalize-story-button with right: 7.5vw aligns the button all the way to the right edge of div.create-story-content. */
    right: 7.5vw;
  }
}

@media (max-width: 1024px) {
  .entry-pg-container {
    gap: 35px;
  }

  .create-story-modal {
    width: 60vw;
    padding: 40px;
    max-height: 90vh;
    overflow-y: auto;
  }
}

@media (max-width: 768px) {
  .create-story-container {
    /* We are making the pg content take up all the height within 100vh that the header and dropdown-container don't take up, thus pushing the footer below the fold. */
    min-height: calc(100vh - (var(--header-height) + var(--dropdown-height)));
  }

  .create-story-content {
    max-width: 100%;
  }

  .create-story-button {
    width: 45%;
  }

  /* .finalize-story-button {
    width: calc(100% - 60px);
  } */

  .create-story-button,
  .finalize-story-button {
    padding: 12px;
  }

  .create-story-modal {
    width: 75vw;
    padding: 35px;
  }
  
  .close-button {
    top: 10px;
    right: 10px;
  }

  .chapter-container {
    max-height: 60vh;
    padding-right: 10px;
  }

  .chapter-container button {
    /* width: 100%; */
    max-width: 100%;
  }
}

@media (max-width: 480px) {
  .entry-pg-container {
    gap: 30px;
  }

  .create-story-modal {
    width: 85vw;
    padding: 30px;
  }

  /* I HAVE THIS PADDING OF 7PX DECLARED IN THE DEFAULT STYLING AND IN THIS MEDIA QUERY. ONE OF THEM WILL BE A DUPLICATE, MAKE SURE TO JUST HAVE THAT PADDING WHERE IT IS NEEDED AND ADJUST THE DEFAULT AMOUNT OF PADDING IF NECESSARY. */
  .create-story-form input[type='text'],
  .create-story-form textarea {
    padding: 7px;
  }

  input#storyTitle,
  textarea#storyDescription,
  input#storyGenre,
  input#storyTags,
  input#chapterTitle,
  textarea#chapterContent {
    margin: 10px 0px 20px;
    padding: 7px;
  }

  .save-and-continue-button,
  .add-choice-button,
  .remove-choice-button,
  button.save-chapter-button {
    width: 130px;
  }

  .save-and-continue-button {
    padding: 7px;
    margin: 10px 0px 0px;
  }

  .add-choice-button,
  .remove-choice-button {
    height: 30px;
  }

  .create-story-button {
    z-index: 2;
    padding: 10px;
    width: 45%;
  }

  .finalize-story-button {
    width: 85vw;
    /* What would make sense would be if left: 7.5vw perfectly aligned the finalize story button within the width of .create-story-content, which is 85vw. But left: 6vw matches closer. */
    left: 6vw;
  }

  .chapter-container {
    /* min-height: 57vh; */
    margin: 0;
  }
}